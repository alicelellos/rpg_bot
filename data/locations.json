LOCATION_DATABASE = {
    "cities": [
        {
            "name": "Чёрный Бастион",
            "description": "Мрачная крепость, возвышающаяся над утёсами. Её чёрные стены, политые дождями и кровью столетий, внушают страх даже самым храбрым воинам. Узкие улочки города петляют между высокими домами с остроконечными крышами.",
            "districts": ["Крепость", "Рыночная площадь", "Порт", "Трущобы", "Квартал магов", "Иностранный квартал", "Храмовый квартал", "Квартал ремесленников"],
            "services": ["blacksmith", "tavern", "temple", "market", "magic_shop", "library", "arena", "bathhouse"]
        },
        {
            "name": "Серебряная Гавань",
            "description": "Богатый портовый город с белоснежными зданиями и высокими маяками. В гавани покачиваются десятки кораблей под флагами разных королевств. Воздух пропитан запахом соли, рыбы и дорогих специй.",
            "districts": ["Доки", "Торговая миля", "Аристократический квартал", "Сады Элизии", "Квартал моряков", "Квартал торговцев", "Квартал художников", "Квартал музыкантов"],
            "services": ["shipyard", "tavern", "market", "bathhouse", "jeweler", "tailor", "bank", "theater"]
        },
        {
            "name": "Стальной Город",
            "description": "Индустриальный центр с дымящимися кузницами и грохочущими молотами. Улицы вымощены булыжником, а воздух наполнен запахом угля и раскалённого металла. Здесь создаётся лучшее оружие королевства.",
            "districts": ["Кузнечный квартал", "Рабочие бараки", "Торговая площадь", "Казармы"],
            "services": ["blacksmith", "armorer", "tavern", "market"]
        }
    ],
    "villages": [
        {
            "name": "Дубровка",
            "description": "Небольшая деревушка среди дубовых рощ. Дымок из труб деревянных домов стелется над покосившимися заборами. Местные живут за счёт леса и небольшой мельницы на реке.",
            "places": ["Таверна 'Старый Дуб'", "Мельница", "Лесная сторожка", "Кузница", "Часовня", "Дом старосты", "Кладбище", "Родник"],
            "services": ["tavern", "mill", "blacksmith", "healer", "stable", "hunter", "fisherman", "herbalist"]
        },
                {
            "name": "Стальной Город",
            "description": "Индустриальный центр с дымящимися кузницами и грохочущими молотами. Улицы вымощены булыжником, а воздух наполнен запахом угля и раскалённого металла. Здесь создаётся лучшее оружие королевства.",
            "districts": ["Кузнечный квартал", "Рабочие бараки", "Торговая площадь", "Казармы"],
            "services": ["blacksmith", "armorer", "tavern", "market"]
        }
    ],
    "villages": [
        {
            "name": "Дубровка",
            "description": "Небольшая деревушка среди дубовых рощ. Дымок из труб деревянных домов стелется над покосившимися заборами. Местные живут за счёт леса и небольшой мельницы на реке.",
            "places": ["Таверна 'Старый Дуб'", "Мельница", "Лесная сторожка"],
            "services": ["tavern", "mill"]
        },
        {
            "name": "Каменный Брод",
            "description": "Деревня у древнего каменного моста через реку. Здесь останавливаются путешественники и торговцы, следующие по королевской дороге. В центре деревни бьёт чистый родник.",
            "places": ["Таверна 'Каменный Мост'", "Конюшни", "Торговая лавка"],
            "services": ["tavern", "stable", "shop"]
        }
    ],
    "taverns": [
        {
            "name": "Пьяный дракон",
            "description": "Шумная таверна с низкими потолками, пропахшими дымом и пивом. В углу слепой старик играет на лютне, а за столиками сидят подозрительные типы всех мастей. На стенах - ржавое оружие и голова дракона (скорее всего поддельная).",
            "services": ["food", "drink", "lodging", "gossip", "gambling", "fighting", "smuggling", "information"]
        },
        {
            "name": "Тихий угол",
            "description": "Уютное заведение с камином и полками старых книг. Здесь подают отличный эль и жареного кролика с травами. Место встречи местных мудрецов и путешественников.",
            "services": ["food", "drink", "lodging", "information"]
        }
    ],
    "wilderness": [
        {
            "name": "Лес Тёмных Корней",
            "description": "Густой древний лес с высокими деревьями, чьи корни уходят глубоко под землю. Воздух наполнен ароматом хвои и влажного мха. Здесь легко заблудиться, а в глубине водятся опасные существа.",
            "features": ["Старая дорога", "Заброшенная хижина", "Охотничьи тропы", "Руины башни", "Зачарованная поляна", "Проклятый ручей", "Пещера троллей", "Древний дуб"]
        },
        {
            "name": "Солёные Болота",
            "description": "Обширные заболоченные земли, где солёная вода смешивается с пресной. Воздух наполнен запахом гниющей растительности и морской соли. Здесь живут лишь самые выносливые существа.",
            "features": ["Рыбацкие тропы", "Затонувшие лодки", "Солёные источники", "Гниющие руины"]
        }
    ],
    "dungeons": [
        {
            "name": "Проклятые катакомбы",
            "description": "Забытые подземелья под старым кладбищем. Воздух здесь тяжёлый и затхлый, а стены покрыты странными символами. Говорят, здесь обитают нежить и демоны.",
            "features": ["Крипта", "Жертвенный зал", "Лабиринт", "Тронный зал", "Библиотека некромантов", "Тюремные камеры", "Алтарь тьмы", "Сокровищница"]
        },
        # ... остальные подземелья ...
    ],
    "castles": [
        {
            "name": "Замок Кровавого Графа",
            "description": "Мрачный замок на вершине утёса, окружённый туманом. Говорят, его владелец - вампир, который правит окрестными землями через страх и тёмные ритуалы.",
            "features": ["Большой зал", "Часовня", "Покои графа", "Тюремные башни", "Алхимическая лаборатория", "Оружейная", "Библиотека", "Подземелья"]
        },
        # ... остальные замки ...
    ]
}        "connections": [],
        "features": ["bar", "tables", "hearth", "private_rooms"],
        "characters": [],
        "items": [],
        "terrain": {},
        "positions": {}
      }
    ],
    "wilderness": [
      {
        "name": "Лес Тёмных Корней",
        "description": "Густой древний лес с высокими деревьями, чьи корни уходят глубоко под землю. Воздух наполнен ароматом хвои и влажного мха. Здесь легко заблудиться, а в глубине водятся опасные существа.",
        "features": ["Старая дорога", "Заброшенная хижина", "Охотничьи тропы", "Руины башни"],
        "type": "wilderness",
        "connections": [],
        "services": [],
        "characters": [],
        "items": [],
        "terrain": {},
        "positions": {}
      },
      {
        "name": "Солёные Болота",
        "description": "Обширные заболоченные земли, где солёная вода смешивается с пресной. Воздух наполнен запахом гниющей растительности и морской соли. Здесь живут лишь самые выносливые существа.",
        "features": ["Рыбацкие тропы", "Затонувшие лодки", "Солёные источники", "Гниющие руины"],
        "type": "wilderness",
        "connections": [],
        "services": [],
        "characters": [],
        "items": [],
        "terrain": {},
        "positions": {}
      }
    ]
  },
  "location_classes": {
    "WorldLocation": {
      "methods": {
        "add_character": {
          "description": "Добавляет персонажа в локацию",
          "parameters": ["character", "position"]
        },
        "remove_character": {
          "description": "Удаляет персонажа из локации",
          "parameters": ["character"]
        },
        "move_character": {
          "description": "Перемещает персонажа в новую позицию",
          "parameters": ["character", "new_position"]
        },
        "get_character_position": {
          "description": "Возвращает позицию персонажа или None",
          "parameters": ["character"]
        },
        "get_characters_at": {
          "description": "Возвращает всех персонажей на указанной позиции",
          "parameters": ["position"]
        },
        "add_item": {
          "description": "Добавляет предмет в локацию",
          "parameters": ["item", "position"]
        },
        "remove_item": {
          "description": "Удаляет предмет из локации",
          "parameters": ["item"]
        },
        "generate_terrain": {
          "description": "Генерирует местность для локации",
          "parameters": []
        },
        "describe_terrain_at": {
          "description": "Возвращает описание местности в указанной позиции",
          "parameters": ["position"]
        },
        "get_other_characters": {
          "description": "Возвращает всех персонажей в локации, кроме указанного",
          "parameters": ["exclude"]
        },
        "describe": {
          "description": "Генерирует описание локации",
          "parameters": ["observer", "detailed"]
        },
        "render_map": {
          "description": "Генерирует изображение карты локации",
          "parameters": ["highlight"]
        },
        "save": {
          "description": "Сохраняет локацию в файл",
          "parameters": []
        }
      }
    },
    "GameWorld": {
      "methods": {
        "_setup_world": {
          "description": "Инициализирует игровой мир",
          "parameters": []
        },
        "add_character": {
          "description": "Добавляет персонажа в указанную локацию",
          "parameters": ["character", "location_name", "position"]
        },
        "move_character": {
          "description": "Перемещает персонажа в новую локацию",
          "parameters": ["character", "new_location_name"]
        },
        "find_character": {
          "description": "Находит персонажа по ID",
          "parameters": ["char_id"]
        },
        "find_location": {
          "description": "Находит локацию по имени",
          "parameters": ["loc_name"]
        },
        "save": {
          "description": "Сохраняет состояние мира",
          "parameters": []
        },
        "load": {
          "description": "Загружает состояние мира",
          "parameters": []
        }
      }
    }
  },
  "location_templates": {
    "city": {
      "terrain_types": ["street", "building", "alley", "plaza", "fountain"],
      "default_terrain": "street"
    },
    "village": {
      "terrain_types": ["path", "house", "field", "well", "square"],
      "default_terrain": "path"
    },
    "tavern": {
      "terrain_types": ["table", "bar", "hearth", "staircase", "private_room"],
      "default_terrain": "table"
    },
    "wilderness": {
      "terrain_types": ["tree", "bush", "path", "stream", "clearing"],
      "default_terrain": "ground"
    }
  },
  "terrain_descriptions": {
    "street": "мощёная улица",
    "building": "здание",
    "alley": "тёмный переулок",
    "plaza": "городская площадь",
    "fountain": "фонтан",
    "tree": "дерево",
    "bush": "куст",
    "path": "узкая тропинка",
    "stream": "ручей",
    "clearing": "поляна",
    "table": "деревянный стол",
    "bar": "барная стойка",
    "hearth": "камин",
    "staircase": "лестница",
    "private_room": "отдельная комната",
    "ground": "земля"
  },
  "terrain_colors": {
    "street": [100, 100, 100],
    "building": [70, 70, 70],
    "alley": [60, 60, 60],
    "plaza": [120, 120, 100],
    "fountain": [100, 100, 150],
    "tree": [0, 80, 0],
    "bush": [0, 60, 0],
    "path": [120, 100, 50],
    "stream": [70, 70, 150],
    "clearing": [110, 110, 50],
    "table": [120, 80, 40],
    "bar": [120, 90, 50],
    "hearth": [150, 70, 40],
    "staircase": [100, 80, 60],
    "private_room": [80, 60, 40],
    "ground": [80, 60, 30]
  }
}
